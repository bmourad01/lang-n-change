Expression e ::= x | (abs T (x)e) | (app e e) | (cons e e) | (nil.)
Value v ::= (abs T (x)e) | (cons v v) | (nil.)
Type T ::= (arrow T T) | (list T)
Context E ::= (app E e) | (app v E) | (cons E e) | (cons v E)
Environment Gamma ::= {x => T}
 
%

[T-VAR]
member (<x, T>, Gamma)
--------------------------------
typeof (Gamma, x, T)

[T-CONS]
typeof (Gamma, e1, T),
typeof (Gamma, e2, (list T))
--------------------------------
typeof (Gamma, (cons e1 e2), (list T))

[T-NIL]
--------------------------------
typeof (Gamma, (nil.), (list T))

[T-ABS]
typeof ([x => T]Gamma, e, T2)
--------------------------------
typeof (Gamma, (abs T1 (x)e), (arrow T1 T2))

[T-APP]
typeof (Gamma, e1, (arrow T1 T2)),
typeof (Gamma, e2, T1)
--------------------------------
typeof (Gamma, (app e1 e2), T2)
    
[R-BETA]
--------------------------------
step ((app (abs T (x)e) v), e[v/x])
    
%

# variance: arrow => contra cov | cons => cov cov
